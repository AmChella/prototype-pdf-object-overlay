<templates>
  <!-- Article -->
  <template data-xml-selector="article" xml:space="preserve">
  \RequirePackage{ifxetex,ifluatex}%
  \newif\iftagpdfsetup\tagpdfsetupfalse
  \ifxetex\else\tagpdfsetupfalse\fi%

  \ifxetex\else%
    \iftagpdfsetup%
      \DocumentMetadata{%
        lang=en,%
        testphase={phase-I},%
        pdfversion=1.7,%
        pdfstandard=ua-1,%
        uncompress,%
      }%
    \fi%
  \fi%

  \gdef\Templatepath{/app/lamput/elsevier/}
  \documentclass[fleqn]{article}
  \newif\iflinux\linuxtrue
  \newif\ifbrowser\browserfalse
  \newif\ifbookmarks\bookmarksfalse
  \newif\ifCJK\CJKtrue
  \newif\ifmultiauthgroup\multiauthgroup[[@multiauthgroup]]
  \newif\ifneedcutedpackage\needcutedpackagetrue
  \usepackage[auproof]{\Templatepath autotemplate}

  \def\unhandledtag#1#2{\color{red}{#2}}
  \begin{document}
  <apply-template data-xml-selector="front"/>
  <apply-template data-xml-selector="body"/>
    <!-- <apply-template data-xml-selector="back"/> -->
  \end{document}
  </template>

  <!-- Formatting -->
  <template data-xml-selector="italic">
    \textit{[[...]]}
  </template>
  <template data-xml-selector="bold">
    \textbf{[[...]]}
  </template>
  <template data-xml-selector="sup">
    \textsuperscript{[[...]]}
  </template>
  <template data-xml-selector="sub">
    \textsubscript{[[...]]}
  </template>
  <template data-xml-selector="underline">
    \uline{[[...]]}
  </template>

  <!-- Front matter-->
  <template data-xml-selector="front">
    <!-- Item info--> \begin{itemInfo} \n\firstpage{1}
    \n\leftrh{[[@TEXMARKER-author-leftrh]]} <apply-template data-xml-selector="journal-meta" />
  <apply-template
      data-xml-selector="article-meta > article-id[pub-id-type='publisher-id']" />
  <apply-template
      data-xml-selector="article-meta > article-id[pub-id-type='doi']" />
  <apply-template
      data-xml-selector="article-meta > article-number" />
  <apply-template
      data-xml-selector="article-meta > pii" /> <!-- NA -->
  <apply-template
      data-xml-selector="article-meta > permissions" /> \end{itemInfo}   <!-- DOC HEAD -->
    <!-- <apply-template data-xml-selector="article-meta > article-categories"/> -->

    <!-- Title Group-->
  <apply-template
      data-xml-selector="article-meta > title-group" />
    <!-- Contrib Group -->
  <apply-template
      data-xml-selector="article-meta > contrib-group" />
    <!-- Author Notes -->
  <apply-template
      data-xml-selector="article-meta > author-notes" />

    <!-- Abstract -->
    <!--Regular Abstract -->
  <apply-template
      data-xml-selector="article-meta > abstract[abstract-type='regular']" />
    <!--Graphical Abstract -->
  <apply-template
      data-xml-selector="article-meta > abstract[abstract-type='graphical']" />
    <!-- Others -->
  <apply-template
      data-xml-selector="article-meta > abstract[abstract-type='executive-summary']" />

    <!-- History-->
  <apply-template
      data-xml-selector="article-meta > history" />
    <!-- <apply-template data-xml-selector="article-meta > pub-date"/> -->
  </template>


  <!-- Journal meta -->
  <template data-xml-selector="journal-meta">
    <apply-template data-xml-selector="journal-id[journal-id-type='publisher-id']" />
    <apply-template data-xml-selector="journal-title-group" />
  </template>
  <template data-xml-selector="journal-id[journal-id-type]"></template>
  <template data-xml-selector="journal-id[journal-id-type='publisher-id']">
    \n\jid{[[.]]}
    \n\figjid{[[.]]}
  </template>
  <template data-xml-selector="journal-title-group">
    <apply-template data-xml-selector="journal-title" />
  </template>
  <template data-xml-selector="journal-title">
    \n\journalname{[[.]]}
  </template>

  <!-- Artilce Meta -->
  <template data-xml-selector="article-meta > article-id[pub-id-type]"></template>
  <template data-xml-selector="article-meta > article-id[pub-id-type='publisher-id']">
    \n\aid{[[.]]}
    \n\figaid{[[.]]}
  </template>
  <template data-xml-selector="article-meta > article-id[pub-id-type='doi']">
    \n\doi{[[.]]}
  </template>
  <template data-xml-selector="article-meta > article-number">
    \n\articleno{[[.]]}
  </template>
  <template data-xml-selector="article-meta > pii"></template> <!-- NA -->
  <template data-xml-selector="article-meta > permissions">
    <apply-template data-xml-selector="copyright-year" />
  </template>
  <template data-xml-selector="article-meta > permissions > copyright-year">
    \n\ccopyr{[[.]]}
  </template>

  <!-- Categories -->
  <template data-xml-selector="article-categories">
    \n[[...]]
  </template>

  <template data-xml-selector="article-meta > article-categories > subj-group">
    \dochead{[[@subj-group-type]]}{[[...]]}\n
  </template>
  <template data-xml-selector="article-meta > article-categories > subj-group > subject">
    [[. | trim]]
  </template>

  <!-- Title Group -->
  <template data-xml-selector="article-meta > title-group">
    \n[[...]]
  </template>
  <!-- Article title-->
  <template data-xml-selector="article-meta > title-group > article-title">
    \n\title{[[. | trim]]}\n
  </template>
  <!-- Alt title-->
  <template data-xml-selector="article-meta > title-group > alt-title">
    \alttitle{[[. | trim]]}\n
  </template>
  <!-- Sub title-->
  <template data-xml-selector="article-meta > title-group > subtitle">
    \subtitle{[[. | trim]]}\n
  </template>

  <!-- Contrib Group-->
  <template data-xml-selector="article-meta > contrib-group">
    \n[[...]]
  </template>
  <!-- Contrib -->
  <template data-xml-selector="article-meta > contrib-group > contrib[contrib-type='author']">
    \n\author{[[...]]}{}
  </template>
  <template data-xml-selector="article-meta > contrib-group > contrib[contrib-type='author'] > name">
    <apply-template data-xml-selector="given-names" />~<apply-template data-xml-selector="surname" />
  </template>
  <template
    data-xml-selector="article-meta > contrib-group > contrib[contrib-type='author'] > name > given-names">
    \givenname{[[...]]}
  </template>
  <template
    data-xml-selector="article-meta > contrib-group > contrib[contrib-type='author'] > name > surname">
    \surname{[[...]]}
  </template>
  <null-template
    data-xml-selector="article-meta > contrib-group > contrib[contrib-type='author'] > contrib-id"></null-template>
  <null-template
    data-xml-selector="article-meta > contrib-group > contrib[contrib-type='author'] > xref"></null-template>

  <!-- Affiliation -->
  <template data-xml-selector="article-meta > contrib-group > aff">
    \n\affil\sqrbrac{[[@label]]}{\afflabel{[[@id]]}[[...]]}
  </template>
  <null-template data-xml-selector="article-meta > contrib-group > aff > label"></null-template>


  <!-- FN in Title Group -->
  <template data-xml-selector="article-meta > title-group > fn-group">
    <apply-template data-xml-selector="fn" />
  </template>
  <template data-xml-selector="article-meta > title-group > fn-group > fn">
    \articlefootnote[[...]]
  </template>
  <template data-xml-selector="article-meta > title-group > fn-group > fn > label">
    {[[. | trim]]}
  </template>
  <template data-xml-selector="article-meta > title-group > fn-group > fn > p">
    {[[...]]}
  </template>
  <template data-xml-selector="article-meta > title-group > fn">
    \articlefootnote[[...]]
  </template>
  <template data-xml-selector="article-meta > title-group > fn > label">
    {[[. | trim]]}
  </template>
  <template data-xml-selector="article-meta > title-group > fn > p">
    {[[...]]}
  </template>

  <!-- Abstract -->
  <!--Regular Abstract -->
  <template data-xml-selector="article-meta > abstract[abstract-type='regular']">
    \n\abstracttitle{ABSTRACT}\n
    \begin{abstract}\n
    [[...]]\n
    \end{abstract}\n
  </template>
  <!--Graphical Abstract -->
  <template data-xml-selector="article-meta > abstract[abstract-type='graphical']">
    \n\graphicalabstracttitle{Graphical Abstrct}\n
    \begin{graphicalabstract}\n
    [[...]]\n
    \end{graphicalabstract}\n
  </template>
  <null-template data-xml-selector="article-meta > abstract[abstract-type='executive-summary']"></null-template>
  <template data-xml-selector="article-meta > abstract > title">
    \abstractsectitle{[[@title]][[. | trim]]}
  </template>
  <template data-xml-selector="article-meta > abstract > p">
    [[...]]
  </template>


  <!-- Author Notes -->
  <template data-xml-selector="article-meta > author-notes">
    \n\n[[...]]\n
  </template>
  <!-- FN Group in Author Notes -->
  <template data-xml-selector="article-meta > author-notes > fn-group">
    [[...]]
  </template>
  <template data-xml-selector="article-meta > author-notes > fn-group > fn">
    \FPfootnote{[[@fn-type]]}[[...]]
  </template>
  <template data-xml-selector="article-meta > author-notes > fn-group > fn > label">
    {[[. | trim]]}
  </template>
  <template data-xml-selector="article-meta > author-notes > fn-group > fn > p">
    {[[...]]}
  </template>
  <template data-xml-selector="article-meta > author-notes > fn">
    \FPfootnote{[[@fn-type]]}[[...]]
  </template>
  <template data-xml-selector="article-meta > author-notes > fn > label">
    {[[. | trim]]}
  </template>
  <template data-xml-selector="article-meta > author-notes > fn > p">
    {[[...]]}
  </template>

  <!-- Correspondence in Author Notes -->
  <template data-xml-selector="article-meta > author-notes > corresp">
    \n\corres{[[@id]]}{[[...]]}\n
  </template>
  <template data-xml-selector="article-meta > author-notes > corresp > label">
    \correslabel{[[. | trim]]}
  </template>
  <template data-xml-selector="article-meta > author-notes > corresp > email">
    \email{[[. | trim]]}
  </template>


  <!-- History-->
  <template data-xml-selector="article-meta > history">
    \n[[...]]
  </template>
  <template data-xml-selector="article-meta > history > date[date-type]">
    \[[@date-type]]{[[...]]}\n
  </template>
  <template data-xml-selector="article-meta > history > date[date-type] > day">
    {[[. | trim]]}
  </template>
  <template data-xml-selector="article-meta > history > date[date-type] > month">
    \month{[[. | trim]]}
  </template>
  <template data-xml-selector="article-meta > history > date[date-type] > year">
    {[[. | trim]]}
  </template>
  <template data-xml-selector="article-meta > history > date[date-type='revised'] > year">
    \revisedyr{[[. | trim]]}
  </template>

  <!-- Pub Date -->
  <template data-xml-selector="article-meta > pub-date">
    \n\[[@pub-type]]{[[...]]}\n
  </template>
  <template data-xml-selector="article-meta > pub-date > day">
    {[[. | trim]]}
  </template>
  <template data-xml-selector="article-meta > pub-date > month">
    {[[. | trim]]}
  </template>
  <template data-xml-selector="article-meta > pub-date > year">
    {[[. | trim]]}
  </template>


  <!-- Body -->
  <template data-xml-selector="body"> \maketitle <!-- \n[[...]] -->
  </template>
  <!-- FN Group in Table -->
  <template data-xml-selector="body table-wrap > table-wrap-foot > fn-group">
    <apply-template data-xml-selector="fn" />
  </template>
  <template data-xml-selector="body table-wrap > table-wrap-foot > fn-group > fn">
    \FPfootnote{[[@fn-type]]}[[...]]
  </template>
  <template data-xml-selector="body table-wrap > table-wrap-foot > fn-group > fn > label">
    {[[. | trim]]}
  </template>
  <template data-xml-selector="body table-wrap > table-wrap-foot > fn-group > fn > p">
    {[[...]]}
  </template>
  <template data-xml-selector="body table-wrap > table-wrap-foot > fn">
    \FPfootnote{[[@fn-type]]}[[...]]
  </template>
  <template data-xml-selector="body table-wrap > table-wrap-foot > fn > label">
    {[[. | trim]]}
  </template>
  <template data-xml-selector="body table-wrap > table-wrap-foot > fn > p">
    {[[...]]}
  </template>

  <!-- Back Matter -->
  <template data-xml-selector="back">
    \n[[...]]
  </template>

  <!-- FN Group in Back Matter -->
  <template data-xml-selector="back > fn-group">
    <apply-template data-xml-selector="fn" />
  </template>
  <template data-xml-selector="back > fn-group > fn">
    \FPfootnote{[[@fn-type]]}[[...]]
  </template>
  <template data-xml-selector="back > fn-group > fn > label">
    {[[. | trim]]}
  </template>
  <template data-xml-selector="back > fn-group > fn > p">
    {[[...]]}
  </template>
  <template data-xml-selector="back > fn">
    \FPfootnote{[[@fn-type]]}[[...]]
  </template>
  <template data-xml-selector="back > fn > label">
    {[[. | trim]]}
  </template>
  <template data-xml-selector="back > fn > p">
    {[[...]]}
  </template>
</templates>